# Makefile automatically generated by ghdl
# Version: GHDL 3.0.0 (2.0.0.r1417.g7de967c51) [Dunoon edition] - mcode code generator
# Command used to generate this makefile:
# ghdl gen-makefile -fsynopsys -Werror tb_cmc

GHDL=ghdl
GHDLFLAGS= -fsynopsys --time-resolution=ns
GHDLRUNFLAGS= --stop-time=100us --assert-level=note
WAVEFILE=wave_cmc.ghw

.PHONY: all elab run init

all: init elab

# Elaborate target.  Almost useless
elab:
	$(GHDL) -c $(GHDLFLAGS) -e tb_cmc

# Run target
run:
	$(GHDL) -c $(GHDLFLAGS) -r tb_cmc $(GHDLRUNFLAGS) --wave=$(WAVEFILE)

# Targets to analyze libraries
init:
	$(GHDL) -a $(GHDLFLAGS) tb_cmc.vhd
	$(GHDL) -a $(GHDLFLAGS) bootvector.vhd
	$(GHDL) -a $(GHDLFLAGS) adec.vhd
	$(GHDL) -a $(GHDLFLAGS) registers.vhd
	$(GHDL) -a $(GHDLFLAGS) romc.vhd
	$(GHDL) -a $(GHDLFLAGS) addrmux.vhd
	$(GHDL) -a $(GHDLFLAGS) rasgen.vhd
	$(GHDL) -a $(GHDLFLAGS) casgen.vhd
	$(GHDL) -a $(GHDLFLAGS) cacc.vhd
	$(GHDL) -a $(GHDLFLAGS) memc.vhd
	$(GHDL) -a $(GHDLFLAGS) rfshcntr.vhd
	$(GHDL) -a $(GHDLFLAGS) cmc.vhd
